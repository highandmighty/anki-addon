function ravMilimParser(){var e=document.getSelection().getRangeAt(0).cloneContents();addBrackets(e,"span.main font"),copyToClipboard(e.textContent.trim().replace(/â€¢\s/g,"    - "))}function ravMilimParser_v2(){var e=document.getSelection().getRangeAt(0).cloneContents().querySelectorAll('[class*="Search_full_analyze_explanation_group"]'),t="";e.forEach(e=>{let o=e.querySelector('[class*="Search_full_analyze_explanation"]:not([class*="group"]):not([class*="example"])');if(!o)return;let r=o.querySelector('[class*="WordExplain_explain"]'),n=o.querySelector("span"),a=n?n.textContent.trim():"",l=r?r.textContent.trim():"";t+=`${a}${l}
`;let i=e.querySelectorAll('[class*="Search_full_analyze_explanation_example"] li');i.forEach(e=>{t+=`    - ${e.textContent.trim()}
`})}),copyToClipboard(t.trim())}function hebrewAcademyParser(){copyToClipboard(window.getSelection().toString().trim().split("\n").map(function(e,t){return t+1+". "+e.trim()}).join("\n"))}function milogParser(){var e=document.getSelection().getRangeAt(0).cloneContents(),t="";console.log(e);var o=e.querySelectorAll(".ent_para");if(0===o.length){copyToClipboard(`1. ${e.textContent}`);return}o.forEach((e,o)=>{t+=`${o+1}. ${e.querySelector(".ent_para_text").textContent.trim()}
`}),copyToClipboard(t=t.trim().replace(/\s"([^"]+)"/g,"\n    - $1"))}function addBrackets(e,t){e.querySelectorAll(t).forEach(e=>{let t=document.createRange().createContextualFragment(`(${e.innerHTML})`);e.parentNode.replaceChild(t,e)})}function wiktionaryParser(){var e=document.getSelection().getRangeAt(0).cloneContents(),t=document.createElement("div");t.id="top",t.appendChild(e);var o="",r=1;console.log(e);var n=t.querySelectorAll("#top > li");0===n.length&&(n=[t]),n.forEach(function(e){if(!e.closest("ul")){var t=e.cloneNode(!0);addBrackets(t,'span[typeof="mw:Transclusion"]');var n=t.querySelector("ul");n&&n.remove(),o+=r+". "+t.textContent.trim()+"\n",e.querySelectorAll("ul > li").forEach(function(e){o+="    - "+e.textContent.trim()+"\n"}),r++}}),copyToClipboard(o.trim())}function copyToClipboard(e){console.log(e),navigator.clipboard.writeText(e)}document.addEventListener("copy",function(e){if(console.log("copy triggered!"),"www.ravmilim.com"===window.location.hostname)ravMilimParser_v2();else if("hebrew-academy.org.il"===window.location.hostname)hebrewAcademyParser();else if("milog.co.il"===window.location.hostname)milogParser();else if("he.wiktionary.org"===window.location.hostname)wiktionaryParser();else{console.log("not a valid host");return}e.preventDefault()});